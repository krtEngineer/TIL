<p>Date: 03/10/2024</p>
<h3 id="json-ignores-undefined-in-stringify">JSON ignores
<code>undefined</code> in Stringify</h3>
<p>When using JSON.stringify() in JavaScript, properties with undefined
values are ignored. This means they won’t appear in the resulting JSON
string.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> obj <span class="op">=</span> {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">a</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">b</span><span class="op">:</span> <span class="kw">undefined</span><span class="op">,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">c</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> jsonString <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>(obj)<span class="op">;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(jsonString)<span class="op">;</span> <span class="co">// Output: {&quot;a&quot;:1,&quot;c&quot;:3}</span></span></code></pre></div>
<p>In this example, the property b is not included in the JSON string
because its value is undefined.</p>
<h3 id="reason-for-above-behavior-in-json">Reason for above behavior in
JSON</h3>
<p>JSON.stringify() ignores undefined values because JSON, as a data
interchange format, does not have a representation for undefined. JSON
is designed to be a language-independent format, and not all languages
have an equivalent to JavaScript’s undefined. By omitting these values,
JSON.stringify() ensures that the resulting JSON is valid and can be
correctly interpreted by systems that consume it.</p>
<p>This behavior also helps in minimizing the size of the JSON data by
excluding unnecessary information.</p>
<h3 id="how-to-handle-such-cases">How to handle such cases?</h3>
<p>To handle undefined values in JSON.stringify(), you can use a
replacer function or preprocess the object to convert undefined values
to null or another placeholder.</p>
<p>You can pass a replacer function as the second argument to
JSON.stringify(). This function can transform undefined values to null
or another desired value.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> obj <span class="op">=</span> {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">a</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">b</span><span class="op">:</span> <span class="kw">undefined</span><span class="op">,</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">c</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> jsonString <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>(obj<span class="op">,</span> (key<span class="op">,</span> value) <span class="kw">=&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  value <span class="op">===</span> <span class="kw">undefined</span> <span class="op">?</span> <span class="kw">null</span> <span class="op">:</span> value</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(jsonString)<span class="op">;</span> <span class="co">// Output: {&quot;a&quot;:1,&quot;b&quot;:null,&quot;c&quot;:3}</span></span></code></pre></div>
